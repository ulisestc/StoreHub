<div class="modal-container">
  <div class="modal-header">
    <h1 mat-dialog-title>Registrar Ajuste</h1>
  </div>

  <div mat-dialog-content>
    <form [formGroup]="adjustForm" class="dialog-form">

      <mat-form-field appearance="outline" class="form-field-full" subscriptSizing="dynamic">
        <mat-label>Producto</mat-label>
        <mat-select formControlName="producto" required>
          <mat-option *ngFor="let prod of products" [value]="prod.name">
            {{ prod.name }} (Stock: {{ prod.stock }})
          </mat-option>
        </mat-select>
        <mat-icon matSuffix>inventory_2</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full" subscriptSizing="dynamic">
        <mat-label>Tipo de Movimiento</mat-label>
        <mat-select formControlName="tipo_movimiento" required>
          <mat-option *ngFor="let tipo of tiposMovimiento" [value]="tipo">
            {{ tipo | titlecase }}
          </mat-option>
        </mat-select>
        <mat-icon matSuffix>swap_vert</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full" subscriptSizing="dynamic">
        <mat-label>Cantidad</mat-label>
        <input matInput type="number" formControlName="cantidad" required min="1">
        <mat-icon matSuffix>numbers</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field-full" subscriptSizing="dynamic">
        <mat-label>Motivo del Ajuste</mat-label>
        <textarea matInput formControlName="motivo" required rows="3"></textarea>
      </mat-form-field>

    </form>
  </div>

  <div mat-dialog-actions align="end" class="modal-actions">
    <button mat-button (click)="onCancel()" class="cancel-btn">Cancelar</button>
    <button mat-raised-button color="primary" (click)="onSave()" [disabled]="adjustForm.invalid">
      Guardar Ajuste
    </button>
  </div>
</div>

<div class="home-container">

  <header class="dashboard-header">
    <div class="header-text">
      <h1>¡Hola, {{ userName }}! </h1>
      <p>Bienvenido a tu panel de control.</p>
    </div>

    <button mat-raised-button class="cta-button" routerLink="/dashboard/sales/pos">
      <mat-icon>point_of_sale</mat-icon>
      NUEVA VENTA
    </button>
  </header>

  <div class="stats-grid" *ngIf="userRole === 'Admin'">

    <mat-card class="stat-card primary-card">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>payments</mat-icon>
        </div>
        <div class="stat-data">
          <span class="stat-label">Ventas del Día</span>

          <div class="value-wrapper">
            <mat-spinner *ngIf="loadingSales" diameter="30" color="accent"></mat-spinner>
            <span *ngIf="!loadingSales" class="stat-value">{{ salesToday | currency }}</span>
          </div>

        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card secondary-card">
      <mat-card-content>
        <div class="stat-icon">
          <mat-icon>receipt_long</mat-icon>
        </div>
        <div class="stat-data">
          <span class="stat-label">Transacciones</span>

          <div class="value-wrapper">
            <mat-spinner *ngIf="loadingSales" diameter="30"></mat-spinner>
            <span *ngIf="!loadingSales" class="stat-value">{{ transactionsToday }}</span>
          </div>

        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card alert-card" routerLink="/dashboard/products">
      <mat-card-content>
        <div class="stat-icon warn-icon">
          <mat-icon>inventory_2</mat-icon>
        </div>
        <div class="stat-data">
          <span class="stat-label">Total Productos</span>

          <div class="value-wrapper">
            <mat-spinner *ngIf="loadingProducts" diameter="30" color="warn"></mat-spinner>
            <span *ngIf="!loadingProducts" class="stat-value">{{ totalProducts }}</span>
          </div>

        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <h3 class="section-title">Accesos Rápidos</h3>

  <div class="actions-grid">
    <mat-card class="action-card" routerLink="/dashboard/sales/pos">
      <mat-icon class="action-icon">point_of_sale</mat-icon>
      <span class="action-title">Ir al POS</span>
      <span class="action-desc">Realizar cobro</span>
    </mat-card>

    <ng-container *ngIf="userRole === 'Admin'">
      <mat-card class="action-card" routerLink="/dashboard/products">
        <mat-icon class="action-icon">inventory_2</mat-icon>
        <span class="action-title">Productos</span>
        <span class="action-desc">Gestionar catálogo</span>
      </mat-card>

      <mat-card class="action-card" routerLink="/dashboard/clients">
        <mat-icon class="action-icon">people</mat-icon>
        <span class="action-title">Clientes</span>
        <span class="action-desc">Base de datos</span>
      </mat-card>

      <mat-card class="action-card" routerLink="/dashboard/reports">
        <mat-icon class="action-icon">assessment</mat-icon>
        <span class="action-title">Reportes</span>
        <span class="action-desc">Ver estadísticas</span>
      </mat-card>

      <mat-card class="action-card" routerLink="/dashboard/inventory">
        <mat-icon class="action-icon">rule</mat-icon>
        <span class="action-title">Inventario</span>
        <span class="action-desc">Ajustes manuales</span>
      </mat-card>
    </ng-container>
  </div>

</div>
